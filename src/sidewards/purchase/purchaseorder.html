<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Document</title>
    <link rel="stylesheet" href="../../../public/dist/css/layui.css">
    <link rel="stylesheet" href="../../../css/purchaseorder.css">
    <link rel="stylesheet" href="../../../public/font/iconfont.css">
</head>

<body>
    <!-- 查询 -->
    <div class="select">
        <div class="select-left">
            <div class="select-item">
                <div class="select-item-text">
                    供应商名称
                </div>
                <input type="text" class="layui-input select-item-input" id="supplier" search-type="supplier">
            </div>

            <div class="select-item">
                <div class="select-item-text">
                    单号
                </div>
                <input type="text" class="layui-input select-item-input" id="code" search-type="code">
            </div>


            <div class="select-item">
                <div class="select-item-text">
                    付款方式
                </div>
                <input type="text" class="layui-input select-item-input" id="way" search-type="way">
            </div>

        </div>

        <div class="select-right">
            <div class="select-btn " lay-event="search">
                查询
            </div>
            <div class="select-btn " lay-event="reset">
                清除
            </div>
        </div>
    </div>

    <div class="common-padding">
        <table class="layui-hide" id="testdome" lay-filter="testdome"></table>
    </div>
</body>
<script src="../../../public/dist/layui.js" charset="utf-8"></script>
<script src="../../../js/common/jquery.min.js"></script>
<script src="../../../js/common/api.js"></script>

</html>


<!-- 头部 -->
<script type="text/html" id="toolbarinter">
    <div class="layui-btn-container ">
        <button class="layui-btn  layui-btn-sm colors layui-bg-black" lay-event="add"><i class="layui-icon"></i></i>添加</button>
        <button class="layui-btn  layui-btn-sm colors  layui-bg-black" lay-event="update"><i class="layui-icon"></i>编辑</button>
        <button class="layui-btn  layui-btn-sm colors  layui-bg-black" lay-event="delete"><i class="layui-icon"></i>删除</button>
    </div>
</script>

<script>
    layui.config({
        base: "../../../js/module/"
    }).use(['Services', 'jquery'], function() {
        var $ = layui.jquery;

        var dataType = "Synergy1procurement";
        var services = new layui.Services({
            baseURL: baseaip,
            tableId: "testdome",
            toolbar: "#toolbarinter",
            serachUrl: "dictionaries/query",
            getUrl: "dictionaries/get",
            delUrl: "dictionaries/delete",
            updUrl: "plant/updateNcpxx",
            saveUrl: "./dialog/addcaigong.html",
            deleteField: "id",
            dataType: dataType,
            parameter: {
                keyword: '',
                type: dataType
            },
            cols: [
                [{
                    type: 'checkbox',
                    fixed: 'left'
                }, {
                    field: 'code',
                    sort: true,
                    title: '采购单号',
                    templet: function(data) {
                        return (JSON.parse(data.context)).code
                    }
                }, {
                    field: 'time',
                    sort: true,
                    title: '采购日期',
                    templet: function(data) {
                        return (JSON.parse(data.context)).time
                    }
                }, {
                    field: 'way',
                    sort: true,
                    title: '付款方式',
                    templet: function(data) {
                        return (JSON.parse(data.context)).way
                    }
                }, {
                    field: 'states',
                    sort: true,
                    title: '付款方式',
                    templet: function(data) {
                        return (JSON.parse(data.context)).states
                    }
                }, {
                    field: 'supplier',
                    sort: true,
                    title: '供应商名称',
                    templet: function(data) {

                        return (JSON.parse(data.context)).supplier
                    }
                }, {
                    field: 'jiaotime',
                    sort: true,
                    title: '预交日期',
                    templet: function(data) {

                        return (JSON.parse(data.context)).jiaotime
                    }
                }, {
                    field: 'lister',
                    sort: true,
                    title: '制表人名称',
                    templet: function(data) {

                        return (JSON.parse(data.context)).lister
                    }
                }, {
                    field: 'approval',
                    sort: true,
                    title: '批准',
                    templet: function(data) {

                        return (JSON.parse(data.context)).approval
                    }
                }, ]
            ],
        });
    });
</script>